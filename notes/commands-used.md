# Commands used

## 1Ô∏è‚É£ System & Hostname Configuration
### Check current hostname
```bash
hostname
hostnamectl
Set hostname to mail server FQDN
hostnamectl set-hostname mail.vibinsec.live
Verify hostname change
hostnamectl status
2Ô∏è‚É£ Hosts File Configuration
Edit /etc/hosts
nano /etc/hosts
Example entry added
173.249.31.162 vibinsec.live mail
3Ô∏è‚É£ iRedMail Installation
Extract and start installer
tar xvf iRedMail-1.7.2.tar.gz
cd iRedMail-1.7.2/
bash iRedMail.sh
Access post-installation info
cat /root/iRedMail-1.7.2/iRedMail.tips
4Ô∏è‚É£ TLS Certificate (Let‚Äôs Encrypt)
Install Certbot
apt update
apt install certbot python3-certbot-nginx -y
Request TLS certificate
certbot certonly --webroot -d mail.vibinsec.live -w /var/www/html
Verify certificate files
ls -l /etc/letsencrypt/live/mail.vibinsec.live/
5Ô∏è‚É£ Postfix (SMTP) Configuration
Edit Postfix main configuration
nano /etc/postfix/main.cf
TLS-related directives configured
smtpd_tls_key_file = /etc/letsencrypt/live/mail.vibinsec.live/privkey.pem
smtpd_tls_cert_file = /etc/letsencrypt/live/mail.vibinsec.live/cert.pem
smtpd_tls_CAfile = /etc/letsencrypt/live/mail.vibinsec.live/chain.pem
6Ô∏è‚É£ Dovecot (IMAP) Configuration
Edit Dovecot configuration
nano /etc/dovecot/dovecot.conf
TLS configuration example
ssl = required
ssl_cert = </etc/letsencrypt/live/mail.vibinsec.live/fullchain.pem
ssl_key = </etc/letsencrypt/live/mail.vibinsec.live/privkey.pem
7Ô∏è‚É£ Nginx (Webmail & Admin Panel)
Edit iRedMail SSL template
nano /etc/nginx/templates/ssl.tmpl
8Ô∏è‚É£ DKIM Key Management
Locate DKIM keys generated by iRedMail
ls /var/lib/dkim/
View DKIM public key
cat /var/lib/dkim/vibinsec.live/default.txt
9Ô∏è‚É£ Service Management
Restart services after configuration changes
systemctl restart nginx
systemctl restart postfix
systemctl restart dovecot
Check service status
systemctl status postfix
systemctl status dovecot
systemctl status nginx
üîü Mail Testing & Validation
Send test email (via webmail)
Performed through Roundcube web interface.

### Additional useful commands
Check mail logs
tail -f /var/log/mail.log
üßπ Helpful System Commands
Check listening ports
ss -tulnp
Check disk usage
df -h
Check running services
systemctl list-units --type=service
